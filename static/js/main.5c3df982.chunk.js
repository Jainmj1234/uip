(this["webpackJsonpuip-project"]=this["webpackJsonpuip-project"]||[]).push([[0],{46:function(e,t,a){e.exports=a(87)},51:function(e,t,a){},52:function(e,t,a){},64:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(40),c=a.n(r);a(51),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(52);var l=a(25),i=a.n(l),o=a(41),u=a(14),m=a(15),p=a(18),h=a(17),d=a(16),g=a(22),f=a.n(g);a(63);f.a.initializeApp({apiKey:"AIzaSyDMDJno-ap304p-DRvyXki6NyfC25PmRNE",authDomain:"image-processing-8a3a4.firebaseapp.com",databaseURL:"https://image-processing-8a3a4.firebaseio.com",projectId:"image-processing-8a3a4",storageBucket:"image-processing-8a3a4.appspot.com",messagingSenderId:"749621837083",appId:"1:749621837083:web:463211b48f16e1d6ec27be",measurementId:"G-C6CSE36B25"});var v=f.a.storage(),E=(a(64),a(42)),b=a.n(E),y=a(9),j=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){if(e.target.files[0]){var t=e.target.files[0];n.setState((function(){return{image:t}}))}},n.handleUpload=function(){var e=n.state.image;v.ref("images/input.jpg").put(e).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);n.setState({progress:t})}),(function(e){console.log(e)}),(function(){v.ref("images").child("input.jpg").getDownloadURL().then((function(e){console.log(e),n.setState({url:e})}))}))},n.state={image:null,url:"",progress:0,responseCode:0},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleUpload=n.handleUpload.bind(Object(p.a)(n)),n.handleApi=n.handleApi.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"handleApi",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://uip.pythonanywhere.com/process",e.next=3,b.a.get("https://uip.pythonanywhere.com/process");case 3:return t=e.sent,e.next=6,t;case 6:a=e.sent,this.setState({responseCode:a.status});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return 200===this.state.responseCode?s.a.createElement(y.a,{to:"/ImageDisplay"}):s.a.createElement("div",null,s.a.createElement("h1",null," UnderWater Image Processing & Object Detection "),s.a.createElement("input",{type:"file",className:"fileInput",onChange:this.handleChange}),s.a.createElement("button",{className:"submitButton",onClick:this.handleUpload},"Upload"),s.a.createElement("button",{className:"submitButton",onClick:this.handleApi},"Start Processing"),s.a.createElement("br",null),s.a.createElement("div",{className:"progress"},s.a.createElement("div",{className:"bar",style:{width:"".concat(this.state.progress,"%")}},s.a.createElement("p",{className:"percent"},this.state.progress,"%"))),s.a.createElement("br",null),s.a.createElement("div",{className:"imgPreview"},s.a.createElement("img",{src:this.state.url||"https://dummyimage.com/500x300/ffffff/000000.jpg&text=No+Image+Uploaded",alt:"Uploaded",height:"300",width:"400"})))}}]),a}(n.Component),I=(a(85),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={grayworld:"",gama:"",unsharp:"",final:""},e.getImage("grayworld"),e.getImage("gama"),e.getImage("unsharp"),e.getImage("final"),e}return Object(m.a)(a,[{key:"getImage",value:function(e){var t=this,a=this.state;v.ref("images").child("".concat(e,".jpg")).getDownloadURL().then((function(n){a[e]=n,t.setState(a)})).catch((function(e){}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Generated Outputs"),s.a.createElement("div",{className:"dispImg"},s.a.createElement("h3",null,"Red Compensated"),s.a.createElement("img",{src:this.state.grayworld,alt:""})),s.a.createElement("div",{className:"dispImg"},s.a.createElement("h3",null,"Gamma Corrected"),s.a.createElement("img",{src:this.state.gama,alt:""})),s.a.createElement("div",{className:"dispImg"},s.a.createElement("h3",null,"Sharpened Image"),s.a.createElement("img",{src:this.state.unsharp,alt:""})),s.a.createElement("div",{className:"dispImg"},s.a.createElement("h3",null,"Final Result"),s.a.createElement("img",{src:this.state.final,alt:""})))}}]),a}(s.a.Component)),w=a(45),O=(a(86),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={status:[],success:0},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=f.a.database().ref().child("uip"),a=t.child("status"),n=t.child("success");a.on("value",(function(t){e.setState({status:[].concat(Object(w.a)(e.state.status),[t.val()])})})),n.on("value",(function(t){e.setState({success:t.val()})}))}},{key:"render",value:function(){return 200===this.state.success?s.a.createElement(y.a,{to:"/ImageDisplay"}):s.a.createElement("div",null,s.a.createElement("ul",null,this.state.status.map((function(e){return s.a.createElement("li",{key:e},e)}))))}}]),a}(s.a.Component)),C=a(24);var k=function(){return s.a.createElement(C.a,null,s.a.createElement(y.d,null,s.a.createElement("div",{className:"App"},s.a.createElement(j,null),s.a.createElement(y.b,{path:"/",exact:!0,component:O}),s.a.createElement(y.b,{path:"/ImageDisplay",component:I}))))};c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.5c3df982.chunk.js.map